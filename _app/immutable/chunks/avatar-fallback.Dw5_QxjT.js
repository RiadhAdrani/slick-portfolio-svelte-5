import{e as S,a as b,b as j,s as J,d as K}from"./disclose-version.DTD7CAsk.js";import{i as w}from"./legacy.Cg-hLLqd.js";import{aj as Q,ak as z,p as P,l as $,h as O,f as p,c as I,r as R,t as B,a as L,j as E,g as _,m as V,b as X,k as U}from"./utils.C6bM_IYE.js";import{o as Y,l as Z,n as tt,m as T,p as x,a as A,b as W,i as et,c as q}from"./base.DG9fcTpH.js";import{l as h,p as u,i as D,b as F,s as G}from"./index-client.Wn53Nwrg.js";import{o as at}from"./events.BjqzEh7F.js";import{w as st}from"./paths.ybXwIFLO.js";import{t as nt,c as ot,r as rt,g as lt}from"./icon.BYrK7s7k.js";const dt={src:"",delayMs:0,onLoadingStatusChange:void 0},it=a=>{const t={...dt,...a},n=nt(Y(t,"loadingStatus","onLoadingStatusChange")),{src:i,delayMs:o}=n,d=t.loadingStatus??st("loading"),e=at(d,t==null?void 0:t.onLoadingStatusChange);Z([i,o],([l,f])=>{if(tt){const g=new Image;g.src=l,g.onload=()=>{if(o!==void 0){const v=window.setTimeout(()=>{e.set("loaded")},f);return()=>window.clearTimeout(v)}else e.set("loaded")},g.onerror=()=>{e.set("error")}}});const m=T("avatar-image",{stores:[i,e],returned:([l,f])=>{const g=x({display:f==="loaded"?"block":"none"});return{src:l,style:g}}}),c=T("avatar-fallback",{stores:[e],returned:([l])=>({style:l==="loaded"?x({display:"none"}):void 0,hidden:l==="loaded"?!0:void 0})});return{elements:{image:m,fallback:c},states:{loadingStatus:e},options:n}};function N(){return{NAME:"avatar",PARTS:["root","image","fallback"]}}function ct(a){const{NAME:t,PARTS:n}=N(),i=ot(t,n),o={...it(rt(a)),getAttrs:i};return Q(t,o),{...o,updateOption:lt(o.options)}}function Mt(a=""){const{NAME:t}=N(),n=z(t);return a?n.options.src.set(a):n.options.src.set(""),n}function ut(){const{NAME:a}=N();return z(a)}var ft=j("<div><!></div>");function gt(a,t){const n=h(t,["children","$$slots","$$events","$$legacy"]),i=h(n,["delayMs","loadingStatus","onLoadingStatusChange","asChild","el"]);P(t,!1);let o=u(t,"delayMs",24,()=>{}),d=u(t,"loadingStatus",28,()=>{}),e=u(t,"onLoadingStatusChange",24,()=>{}),m=u(t,"asChild",8,!1),c=u(t,"el",28,()=>{});const{states:{loadingStatus:l},updateOption:f,getAttrs:g}=ct({src:"",delayMs:o(),onLoadingStatusChange:({next:s})=>{var r;return d(s),(r=e())==null||r(s),s}}),v=g("root");$(()=>E(d()),()=>{d()!==void 0&&l.set(d())}),$(()=>E(o()),()=>{f("delayMs",o())}),O(),w();var k=S(),C=p(k);D(C,m,s=>{var r=S(),y=p(r);A(y,t,"default",{attrs:v}),b(s,r)},s=>{var r=ft();let y;var M=I(r);A(M,t,"default",{attrs:v}),R(r),F(r,H=>c(H),()=>c()),B(()=>y=W(r,y,{...i,...v})),b(s,r)}),b(a,k),L()}var mt=j("<span><!></span>");function vt(a,t){const n=h(t,["children","$$slots","$$events","$$legacy"]),i=h(n,["asChild","el"]);P(t,!1);const o=J(),d=()=>K(l,"$fallback",o),e=V();let m=u(t,"asChild",8,!1),c=u(t,"el",28,()=>{});const{elements:{fallback:l},getAttrs:f}=ut(),g=f("fallback");$(()=>d(),()=>{X(e,d())}),$(()=>_(e),()=>{Object.assign(_(e),g)}),O(),w();var v=S(),k=p(v);D(k,m,C=>{var s=S(),r=p(s);A(r,t,"default",{get builder(){return _(e)}}),b(C,s)},C=>{var s=mt();let r;var y=I(s);A(y,t,"default",{get builder(){return _(e)}}),R(s),F(s,M=>c(M),()=>c()),et(s,M=>_(e).action(M)),B(()=>r=W(s,r,{..._(e),...i})),b(C,s)}),b(a,v),L()}function kt(a,t){const n=h(t,["children","$$slots","$$events","$$legacy"]),i=h(n,["class","delayMs"]);P(t,!1);let o=u(t,"class",8,void 0),d=u(t,"delayMs",8,void 0);w();var e=U(()=>q("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",o()));gt(a,G({get delayMs(){return d()},get class(){return _(e)}},()=>i,{children:(m,c)=>{var l=S(),f=p(l);A(f,t,"default",{}),b(m,l)},$$slots:{default:!0}})),L()}function $t(a,t){const n=h(t,["children","$$slots","$$events","$$legacy"]),i=h(n,["class"]);P(t,!1);let o=u(t,"class",8,void 0);w();var d=U(()=>q("bg-muted flex h-full w-full items-center justify-center rounded-full",o()));vt(a,G({get class(){return _(d)}},()=>i,{children:(e,m)=>{var c=S(),l=p(c);A(l,t,"default",{}),b(e,c)},$$slots:{default:!0}})),L()}export{kt as A,$t as a,Mt as g};
