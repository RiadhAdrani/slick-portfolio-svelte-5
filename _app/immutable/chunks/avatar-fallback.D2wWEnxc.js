import{e as S,a as b,b as z,s as J,d as K}from"./disclose-version.D7Mct1As.js";import{i as w}from"./legacy.ho9FZu-4.js";import{aj as Q,ak as O,p as P,m as $,o as j,f as A,c as I,r as R,t as q,a as L,u as E,g as _,q as V,b as X,v as B}from"./utils.BCLdnbAn.js";import{o as Y,k as Z,l as tt,m as T,n as x,a as p,b as U,h as et,c as W}from"./base.G3x5fGIG.js";import{l as h,p as u,i as D,b as F,s as G}from"./index-client.hqmSAlzZ.js";import{o as at}from"./events.Bxge6R5I.js";import{w as st}from"./index.Czr4EQ7x.js";import{t as nt,c as ot,r as rt,g as lt}from"./icon.D8n_meNO.js";const dt={src:"",delayMs:0,onLoadingStatusChange:void 0},it=a=>{const t={...dt,...a},n=nt(Y(t,"loadingStatus","onLoadingStatusChange")),{src:i,delayMs:o}=n,d=t.loadingStatus??st("loading"),e=at(d,t==null?void 0:t.onLoadingStatusChange);Z([i,o],([l,f])=>{if(tt){const g=new Image;g.src=l,g.onload=()=>{if(o!==void 0){const m=window.setTimeout(()=>{e.set("loaded")},f);return()=>window.clearTimeout(m)}else e.set("loaded")},g.onerror=()=>{e.set("error")}}});const v=T("avatar-image",{stores:[i,e],returned:([l,f])=>{const g=x({display:f==="loaded"?"block":"none"});return{src:l,style:g}}}),c=T("avatar-fallback",{stores:[e],returned:([l])=>({style:l==="loaded"?x({display:"none"}):void 0,hidden:l==="loaded"?!0:void 0})});return{elements:{image:v,fallback:c},states:{loadingStatus:e},options:n}};function N(){return{NAME:"avatar",PARTS:["root","image","fallback"]}}function ct(a){const{NAME:t,PARTS:n}=N(),i=ot(t,n),o={...it(rt(a)),getAttrs:i};return Q(t,o),{...o,updateOption:lt(o.options)}}function Mt(a=""){const{NAME:t}=N(),n=O(t);return a?n.options.src.set(a):n.options.src.set(""),n}function ut(){const{NAME:a}=N();return O(a)}var ft=z("<div><!></div>");function gt(a,t){const n=h(t,["children","$$slots","$$events","$$legacy"]),i=h(n,["delayMs","loadingStatus","onLoadingStatusChange","asChild","el"]);P(t,!1);let o=u(t,"delayMs",24,()=>{}),d=u(t,"loadingStatus",28,()=>{}),e=u(t,"onLoadingStatusChange",24,()=>{}),v=u(t,"asChild",8,!1),c=u(t,"el",28,()=>{});const{states:{loadingStatus:l},updateOption:f,getAttrs:g}=ct({src:"",delayMs:o(),onLoadingStatusChange:({next:s})=>{var r;return d(s),(r=e())==null||r(s),s}}),m=g("root");$(()=>E(d()),()=>{d()!==void 0&&l.set(d())}),$(()=>E(o()),()=>{f("delayMs",o())}),j(),w();var k=S(),C=A(k);D(C,v,s=>{var r=S(),y=A(r);p(y,t,"default",{attrs:m}),b(s,r)},s=>{var r=ft();let y;var M=I(r);p(M,t,"default",{attrs:m}),R(r),F(r,H=>c(H),()=>c()),q(()=>y=U(r,y,{...i,...m})),b(s,r)}),b(a,k),L()}var vt=z("<span><!></span>");function mt(a,t){const n=h(t,["children","$$slots","$$events","$$legacy"]),i=h(n,["asChild","el"]);P(t,!1);const o=J(),d=()=>K(l,"$fallback",o),e=V();let v=u(t,"asChild",8,!1),c=u(t,"el",28,()=>{});const{elements:{fallback:l},getAttrs:f}=ut(),g=f("fallback");$(()=>d(),()=>{X(e,d())}),$(()=>_(e),()=>{Object.assign(_(e),g)}),j(),w();var m=S(),k=A(m);D(k,v,C=>{var s=S(),r=A(s);p(r,t,"default",{get builder(){return _(e)}}),b(C,s)},C=>{var s=vt();let r;var y=I(s);p(y,t,"default",{get builder(){return _(e)}}),R(s),F(s,M=>c(M),()=>c()),et(s,M=>_(e).action(M)),q(()=>r=U(s,r,{..._(e),...i})),b(C,s)}),b(a,m),L()}function kt(a,t){const n=h(t,["children","$$slots","$$events","$$legacy"]),i=h(n,["class","delayMs"]);P(t,!1);let o=u(t,"class",8,void 0),d=u(t,"delayMs",8,void 0);w();var e=B(()=>W("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",o()));gt(a,G({get delayMs(){return d()},get class(){return _(e)}},()=>i,{children:(v,c)=>{var l=S(),f=A(l);p(f,t,"default",{}),b(v,l)},$$slots:{default:!0}})),L()}function $t(a,t){const n=h(t,["children","$$slots","$$events","$$legacy"]),i=h(n,["class"]);P(t,!1);let o=u(t,"class",8,void 0);w();var d=B(()=>W("bg-muted flex h-full w-full items-center justify-center rounded-full",o()));mt(a,G({get class(){return _(d)}},()=>i,{children:(e,v)=>{var c=S(),l=A(c);p(l,t,"default",{}),b(e,c)},$$slots:{default:!0}})),L()}export{kt as A,$t as a,Mt as g};
